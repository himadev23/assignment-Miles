<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
	<head>
		<meta name="author" content="Darko Bunic"/>
		<meta name="description" content="Drag and drop table content with JavaScript"/>
		<link rel="stylesheet" href="style.css" type="text/css" media="screen" />
		<script type="text/javascript" src="./drag.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
		<!-- initialize drag and drop -->
		<script type="text/javascript">
			window.onload = function () {
				var rd = REDIPS.drag;	// reference to the REDIPS.drag class
				// initialization
				rd.init();
				// dragged elements can be placed to the empty cells only
				rd.drop_option = 'single';
				rd.only.div.a = 'one';
				rd.only.div.b = 'two';
				rd.only.div.c = 'three';
				rd.only.div.d = 'four'
				// Elements can't be placed to other table cells except same coloumn.
				rd.only.other = 'deny';
				// set hover color
				rd.hover_color = '#BF6A30';
				// after element is cloned define dropping for last row - only for clones of element A or element B
				rd.myhandler_cloned = function () {
					// define variables
					var cloned_id = rd.obj.id; // cloned id
					console.log("cloned_id",cloned_id,rd)
					// if cloned if begins with a or b define dropping only for last row
					if (cloned_id.substr(0, 1) === 'a' ) {   
						//rd.only.div[cloned_id] = 'last';
						rd.only.div[cloned_id] = 'one';
					}
					else if(cloned_id.substr(0, 1) === 'b' ) {   
						//rd.only.div[cloned_id] = 'last';
						rd.only.div[cloned_id] = 'two';
					}
					else if(cloned_id.substr(0, 1) === 'c'){
						rd.only.div[cloned_id] = 'three';
					}
					else{
						rd.only.div[cloned_id] = 'four';
					}
					
					}
					$('td').on('click',function(){
				console.log("cliked",this)
				if(this.innerHTML){
						this.innerHTML = "";
				}
			})
				}
			
		</script>
		<title>www.redips.net</title>
	</head>
	<body>
		<center>
			<h1>Groupon</h1>
			<h2>Reward Categeory Mapping</h2>
		</center>
		<div id="main_container">
			<div id="drag">
				<!-- left container -->
				<div id="left">
					<table id="table1">
						<colgroup>
							<col width="100"/>
						</colgroup>
						<tbody>
							<tr><td>Rewards</td></tr>
							<tr><td></td></tr>
							<tr><td class="dark"><div id="a" class="drag orange clone ">R1</div></td></tr>
							<tr><td class="dark"><div id="b" class="drag orange clone ">R2</div></td></tr>
							<tr><td class="dark"><div id="c" class="drag orange clone ">R3</div></td></tr>
							<tr><td class="dark"><div id="d" class="drag orange clone ">R4</div></td></tr>
						</tbody>
					</table>
				</div><!-- left container -->
				
				<!-- right container -->
				<div id="right">
					<table id="table2">
						<colgroup>
							<col width="100"/>
							<col width="100"/>
							<col width="100"/>
							<col width="100"/>
						</colgroup>
						<tbody>
							<tr>
								<td colspan="4">Categeories</td>
								
							</tr>
							<tr>
								<td>C1</td>
								<td>C2</td>
								<td>C3</td>
								<td>C4</td>
							</tr>
							<tr>
								<td class="only one"></td>
								<td class="only one"></td>
								<td class="only one"></td>
								<td class="upper_right only one"></td>
							</tr>
							<tr>
								<td class="only two"></td>
								<td class="only two"></td>
								<td class="only two"></td>
								<th class="only two"></th>
							</tr>
							<tr>
								<td class="only three"></td>
								<td class="only three"></td>
								<td class="only three"></td>
								<th class="only three"></th>
							</tr>
							<tr>
								<td class="lower_left only four"></td>
								<th class="only four"></th>
								<th class="only four"></th>
								<th class="only four"></th>
							</tr>
						</tbody>
					</table>
				</div><!-- right container -->
			</div><!-- drag container -->
			
		</div><!-- main container -->
	</body>
</html>